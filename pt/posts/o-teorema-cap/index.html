<!doctype html><html lang=en><head><title>O Teorema CAP - Outro blog nerd</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Engenharia e Arquitetura de Software para o mundo real, não só o framework da modinha"><meta name=author content="Thiago Henrique"><meta property="og:title" content="O Teorema CAP"><meta property="og:description" content="Teorema CAP é uma boa ferramenta para ajudar na arquitetura de sistemas distribuídos, como microsserviços, e neste artigo abordaremos o mesmo primeiramente de forma teórica e posteriormente de forma prática."><meta property="og:type" content="article"><meta property="og:url" content="https://www.thiago.tech/pt/posts/o-teorema-cap/"><meta property="article:published_time" content="2022-02-27T22:11:27-03:00"><meta property="article:modified_time" content="2022-02-27T22:11:27-03:00"><meta property="og:site_name" content="Outro blog nerd"><meta name=twitter:card content="summary"><meta name=twitter:title content="O Teorema CAP"><meta name=twitter:description content="Teorema CAP é uma boa ferramenta para ajudar na arquitetura de sistemas distribuídos, como microsserviços, e neste artigo abordaremos o mesmo primeiramente de forma teórica e posteriormente de forma prática."><meta name=generator content="Hugo 0.80.0"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><link rel=stylesheet href=https://www.thiago.tech/fontawesome/css/all.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda"><link rel=stylesheet type=text/css href=/css/styles.css></head><body><div id=container><header><h1><a href=/pt/>Outro blog nerd</a></h1><ul id=social-media><li><a href=/en>English</a></li><li><a href=/es>Español</a></li><li><a href=https://github.com/thiagohdeplima title=GitHub><i class="fab fa-github fa-lg"></i></a></li><li><a href=https://twitter.com/thiagohdeplima title=Twitter><i class="fab fa-twitter fa-lg"></i></a></li><li><a href=https://linkedin.com/in/thiagohdeplima title=LinkedIn><i class="fab fa-linkedin fa-lg"></i></a></li><li><a href=https://stackoverflow.com/users/5036456/thiago-henrique title=StackOverflow><i class="fab fa-stack-overflow fa-lg"></i></a></li><li><a href=https://www.youtube.com//channel/UCDnuQ9P6JRdkG9HNw5yDp9Q title=Youtube><i class="fab fa-youtube fa-lg"></i></a></li></ul><p><em>With no bike-shed effect</em></p></header><nav><ul><li><a href=/pt/about/><i class="fa-li fa fa-lg"></i><span>Sobre</span></a></li></ul></nav><main><article><h1>O Teorema CAP</h1><aside><ul><li><time class=post-date datetime=2022-02-27T22:11:27-03:00>Feb 27, 2022</time></li><li><em><a href=/pt/tags/teorema-cap>#teorema-cap</a>
,
<a href=/pt/tags/sistemas-distribuidos>#sistemas-distribuidos</a></em></li><li>3 minute read</li></ul></aside><p>Sistemas distribuídos estão em todos os lugares nos dias atuais. Clusters de Kubernetes, bancos de dados distribuído como Cassandra ou MongoDB, arquiteturas de microsserviços, todos estes são exemplos de sistemas distribuídos.</p><p>Quando nestes sistemas passamos a ter dados envolvidos, a escolha da arquitetura deve ser muito bem pensada, <em>tradeoffs</em> devem ser compreendidos e bem análisados, do contrário, efeitos negativos da escolha da arquitetura podem pesar sobre o projeto que faz uso destes sistemas.</p><p>Neste contexto, o Teorema CAP é uma excelente ferramenta, e ele será apresentado neste artigo em duas fases: a ideia central por trás do mesmo e a perspectiva de sistemas modernos para o mesmo.</p><h2 id=mas-afinal-o-que-é-este-teorema-cap->Mas afinal, o que é este Teorema CAP ?</h2><figure><picture>
<source srcset=images/cap-dark.png media="(prefers-color-scheme: dark)"><source srcset=images/cap-light.png media="(prefers-color-scheme: light)"><img alt src=images/cap-dark.png style=width:30%;float:left;box-shadow:none></picture><figcaption><h4></h4></figcaption></figure><p>O Teorema CAP foi concebido por Eric Brewer, ex-professor da Universidade de Berkeley e pesquisador de computação distribuída. Sua premissa central é que um sistema distribuído pode ter simultâneamente duas das três propriedades representadas por cada uma das letras que compõem seu nome: Consistência, Disponibilidade (do inglês, Availability), e Particionamento dos dados.</p><p>Antes de prosseguirmos na compreensão do teorema em si, é necessário compreender o que cada um destes itens significa.</p><h3 id=consistência>Consistência</h3><p>O termo consistência pode trazer alguma confusão na sua compreensão, principalmente porque na computação existem outros usos para ele que podem significar diferentes coisas em diferentes contextos.</p><figure><picture>
<source srcset=images/consistency-dark.png media="(prefers-color-scheme: dark)"><source srcset=images/consistency-light.png media="(prefers-color-scheme: light)"><img alt src=images/consistency-dark.png style=width:30%;float:right;box-shadow:none></picture><figcaption><h4></h4></figcaption></figure><p>No Teorema CAP, consistência diz respeito à capacidade de um sistema distribuído de responder sempre com o dado mais atual (consistente) possível.</p><p>Olhando o diagrama ao lado, imagine um sistema distribuído com dados de clientes, no qual foi cadastrado uma cliente com o nome Maria e ID 123.</p><p>Se este sistema for consistente, quando um segundo usuário requisitar os dados desta usuária 123, os dados retornados serão os dados cadastrados pelo usuário um, mesmo que esta consulta ocorra imediatamente após este registro ter acontecido.</p><p>Vale ressaltar que isto também vale para atualizações: Se por ventura alguém atualizar o cadastro da usuária 123 e outro alguém fizer uma consulta dos dados desta usuária - ainda que imediatamente após a atualização - os dados mais atuais serão retornados.</p><h3 id=disponibilidade>Disponibilidade</h3><p>O Teorema CAP considera disponível um sistema que sempre responde a todas as requisições que lhe são feitas, ainda que a resposta seja um erro.</p><p>Em outras palavras, não importa qual seja a resposta, um sistema distribuído disponível nunca deixa de enviar uma.</p><h3 id=particionamento>Particionamento</h3><p>Sistemas distribuídos que possuem particionamento são, no fim das contas, aqueles cujos dados contidos neles estão distribuídos entre diversos nós, ou seja, cada nó possui um pedaço do todo.</p><h2 id=consistência-e-disponibilidade>Consistência e Disponibilidade</h2><figure><picture>
<source srcset=images/cap-ca-dark.png media="(prefers-color-scheme: dark)"><source srcset=images/cap-ca-light.png media="(prefers-color-scheme: light)"><img alt src=images/cap-ca-dark.png style=width:30%;float:right;box-shadow:none></picture><figcaption><h4></h4></figcaption></figure><p>Sit tempor ullamco nostrud commodo incididunt nostrud reprehenderit eu nostrud laboris anim. Et incididunt officia dolor do minim. Id pariatur fugiat laborum ad. Incididunt sunt nulla nulla cupidatat aliqua do culpa ex consectetur excepteur qui ex. Irure ex cillum pariatur officia non sit fugiat do sit dolore nostrud velit qui.</p></article><section class=post-nav><ul><li></li><li></li></ul></section></main><footer><ul><li><h6>Creative Commons by 4.0 |
Rendered by <a href=https://gohugo.io title=Hugo>Hugo</a> |
<a href=https://www.thiago.tech/index.xml>Subscribe</a></h6></li></ul></footer></div><script src=/js/scripts.js></script></body></html>